{"version":3,"sources":["all.js"],"names":["apiCustomerUrl","goodsListNode","document","querySelector","cartsListNode","noGoodsTextNode","listWrapperNode","goodsCategoryNode","orderFormNode","forms","formWarningNode","querySelectorAll","goodsList","showedList","cartsList","totalPrice","addEventListener","goodsListFilter","getGoodsList","axios","method","url","then","res","data","products","goodsListRender","getCartList","carts","finalTotal","cartsListRender","category","value","filter","item","innerHTML","forEach","index","id","title","origin_price","price","style","backgroundImage","images","length","className","product","addToCarts","goodsID","deleteFromCarts","undefined","alert","message","formValidation","count","i","nodeName","labels","orderSubmit","confirm","status","reset","apiAdminUrl","orderListNode","orderListWrapperNode","noOrderTextNode","token","soldNum","orderList","orderProductsList","soldNumData","getOrderList","headers","authorization","orders","console","log","orderListRender","orderAnalysisChartRender","orderDate","Date","createdAt","orderProduct","user","name","tel","address","email","getFullYear","getMonth","getDate","paid","deleteOrder","orderID","quantity","Object","keys","push","sort","a","b","slice","c3","generate","bindto","columns","type","size","height","putPaidStatus","paymentStatus","init"],"mappings":"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","file":"all.js","sourcesContent":["//index js below\nconst apiCustomerUrl = 'https://livejs-api.hexschool.io/api/livejs/v1/customer/brook072'\nconst goodsListNode = document.querySelector('#goodsList')\nconst cartsListNode = document.querySelector('#cartsList')\nconst noGoodsTextNode = document.querySelector('#noGoodsText')\nconst listWrapperNode = document.querySelector('#listWrapper')\nconst goodsCategoryNode = document.querySelector('#goodsCategory')\nconst orderFormNode = document.forms['orderForm']\nconst formWarningNode = document.querySelectorAll('#formWarning')\nlet goodsList,showedList,cartsList = [];\nlet totalPrice = 0;\n\nif(goodsCategoryNode){\n    goodsCategoryNode.addEventListener('change',()=>{\n        goodsListFilter();\n    })\n} \n\nfunction getGoodsList(){\n  axios(\n    {\n      method: 'get',\n      url: `${apiCustomerUrl}/products`\n    }\n  ).then((res)=>{\n    goodsList = res.data.products\n    goodsListRender();\n  })\n}\n\nfunction getCartList(){\n  axios(\n    {\n      method: 'get',\n      url: `${apiCustomerUrl}/carts`\n    }\n  ).then((res)=>{\n    cartsList = res.data.carts\n    totalPrice = res.data.finalTotal\n    cartsListRender();\n  })\n}\n\nfunction goodsListFilter(){\n  let category = goodsCategoryNode.value;\n  showedList = goodsList.filter((item)=>{\n    if(item.category == category) return true;\n    else return false\n  })\n  goodsListRender();\n}\n\nfunction goodsListRender(){\n  if(goodsListNode.innerHTML != '') goodsListNode.innerHTML = ''\n  if(goodsCategoryNode.value == '') showedList = goodsList;\n  showedList.forEach((item, index)=>{\n    goodsListNode.innerHTML += `\n    <div class=\"relative w-1/4 px-2\">\n      <span class=\"absolute bg-black text-white text-xl top-3 -right-1 py-2 px-6\">新品</span>\n      <div class=\"bg-cover bg-no-repeat bg-center w-full h-75.5\" id='goods${index}'></div>\n      <span class=\"block bg-black text-white text-xl text-center py-3 cursor-pointer hover:bg-dark-purple\" onclick=\"addToCarts('${item.id}')\">加入購物車</span>\n      <div>\n          <p class=\"text-xl mb-2\">${item.title}</p>\n          <p class=\"text-xl line-through\">NT$${item.origin_price}</p>\n          <p class=\"text-2xl\">NT$${item.price}</p>\n      </div>\n    </div>\n    `\n    document.querySelector(`#goods${index}`).style.backgroundImage = `url('${item.images}')`\n  })\n}\n\nfunction cartsListRender(){\n  if(cartsList.length == 0){\n    noGoodsTextNode.className = \"pt-8 text-7 text-center\"\n    listWrapperNode.className = \"hidden\"\n  }else{\n    noGoodsTextNode.className = \"pt-8 text-7 text-center hidden\"\n    listWrapperNode.className =  \"block\"\n  }\n  if(cartsListNode.innerHTML != '') cartsListNode.innerHTML = '';\n  cartsList.forEach((item, index)=>{\n    cartsListNode.innerHTML += `\n    <div class=\"w-full flex items-center border-b border-grey py-5\">\n      <div class=\"w-30% flex items-center\">\n          <div class=\"bg-goods-1 bg-cover bg-no-repeat bg-center w-20 h-20 mr-4\" id='cartsItem${index}'></div>\n          <p class=\"w-40 text-xl\">${item.product.title}</p>\n      </div>\n      <p class=\"w-1/5 text-xl\">NT$${item.product.origin_price}</p>\n      <p class=\"w-1/5 text-xl\">1</p>\n      <p class=\"w-1/5 text-xl\">NT$${item.product.price}</p>\n      <div class=\"w-auto flex items-center justify-center\">\n          <span class=\"mdi mdi-close text-xl cursor-pointer\" onclick=\"deleteFromCarts('${item.id}')\"></span>\n      </div>\n    </div>\n    `\n    document.querySelector(`#cartsItem${index}`).style.backgroundImage = `url('${item.product.images}')`\n    document.querySelector('#totalPrice').innerHTML = `NT$${totalPrice}`\n  })\n}\n\nfunction addToCarts(goodsID){\n  axios(\n    {\n      method: 'post',\n      url: `${apiCustomerUrl}/carts`,\n      data:{\n        'data': {\n          \"productId\": `${goodsID}`,\n          \"quantity\": 1\n        }\n      }\n    }\n  ).then((res)=>{\n    cartsList = res.data.carts\n    totalPrice = res.data.finalTotal\n    cartsListRender();\n  })\n}\n\nfunction deleteFromCarts(goodsID){\n  if(goodsID == undefined){\n    axios(\n      {\n        method: 'delete',\n        url: `${apiCustomerUrl}/carts`\n      }\n    ).then((res)=>{\n      alert(res.data.message);\n      cartsList = res.data.carts\n      cartsListRender();\n    })\n  }else{\n    axios(\n      {\n        method: 'delete',\n        url: `${apiCustomerUrl}/carts/${goodsID}`\n      }\n    ).then((res)=>{\n      cartsList = res.data.carts\n      totalPrice = res.data.finalTotal\n      cartsListRender();\n    })\n  }\n}\n\nfunction formValidation(){\n  let count = 0\n  for( let i = 0; i< orderFormNode.length; i += 1){\n    if(orderFormNode[i].value == '' && orderFormNode[i].nodeName == 'SELECT'){\n      formWarningNode[i].innerHTML = `請選擇${orderFormNode[i].labels[0].innerHTML}!`\n    }else if(orderFormNode[i].value == '' && orderFormNode[i].nodeName == 'INPUT'){\n      formWarningNode[i].innerHTML = `請輸入${orderFormNode[i].labels[0].innerHTML}!`\n    }else{\n      count += 1;\n    }\n  }\n  if(count == orderFormNode.length && cartsList.length != 0){\n    orderSubmit();\n  }else if(count == orderFormNode.length && cartsList.length == 0){\n    alert('購物車沒有商品！')\n    return;\n  }\n}\n\nfunction orderSubmit(){\n    if(confirm('您確認要送出訂單?')){\n        axios(\n            {\n            method: 'post',\n            url: `${apiCustomerUrl}/orders`,\n            data:{\n            \"data\": {\n                \"user\": {\n                \"name\": orderFormNode['userName'].value,\n                \"tel\": orderFormNode['userPhone'].value,\n                \"email\": orderFormNode['userEmail'].value,\n                \"address\": orderFormNode['userAddress'].value,\n                \"payment\": orderFormNode['paymentMethod'].value\n            }\n          }\n        }\n      }).then((res)=>{\n        if(res.status == 200) alert('你的訂單已成功送出！')\n        orderFormNode.reset();\n        getCartList();\n      })\n    }else{\n        return;\n    }\n}\n\n\n//backstage js below\n\nconst apiAdminUrl = 'https://livejs-api.hexschool.io/api/livejs/v1/admin/brook072'\nconst orderListNode = document.querySelector('#orderList')\nconst orderListWrapperNode = document.querySelector('#orderListWrapper')\nconst noOrderTextNode = document.querySelector('#noOrderText')\nconst token = 'YC5Aa0MQzNeSGSpcjUuVVk2QMWs1'\nlet soldNum = {}\nlet orderList,orderProductsList, soldNumData = []\n\nfunction getOrderList(){\n    axios(\n        {\n        method: 'get',\n        url: `${apiAdminUrl}/orders`,\n        headers:{\n            authorization: token,\n        }\n    }).then((res)=>{\n        orderList = res.data.orders\n        console.log(orderList)\n        orderListRender();\n        orderAnalysisChartRender();\n    })\n}\n\nfunction orderListRender(){\n    if(orderList.length == 0){\n        noOrderTextNode.className = \"text-4xl text-center\"\n        orderListWrapperNode.className = \"hidden\"\n      }else{\n        noOrderTextNode.className = \"hidden text-4xl text-center\"\n        orderListWrapperNode.className =  \"block\"\n      }\n    if(orderListNode.innerHTML != '') orderListNode.innerHTML = ''\n    orderListNode.innerHTML += `\n        <thead>\n            <tr>\n                <th class=\"border border-black\">訂單編號</th>\n                <th class=\"border border-black\">聯絡人</th>\n                <th class=\"border border-black\">聯絡地址</th>\n                <th class=\"border border-black\">電子郵件</th>\n                <th class=\"border border-black\">訂單品項</th>\n                <th class=\"border border-black\">訂單日期</th>\n                <th class=\"border border-black\">訂單狀態</th>\n                <th class=\"border border-black\">操作</th>\n            </tr>\n        </thead>\n    `\n    orderList.forEach((item, index)=>{\n        let orderDate = new Date(item.createdAt)\n        let orderProduct = ''\n        let count = 0\n        item.products.forEach((product)=>{\n          orderProduct = orderProduct + product.title\n          if(count != item.products.length)orderProduct = orderProduct + '</br>'\n          count ++ \n        })\n        orderListNode.innerHTML += `\n        <tr>\n            <td class=\"border border-black text-center\">10088377474</td>\n            <td class=\"border border-black text-center\">\n                <p>${item.user.name}</p>\n                <p>${item.user.tel}</p>\n            </td class=\"border border-black text-center\">\n            <td class=\"border border-black text-center\">${item.user.address}</td>\n            <td class=\"border border-black text-center\">${item.user.email}</td>\n            <td class=\"border border-black text-center\">\n                <p>${orderProduct}</p>\n            </td>\n            <td class=\"border border-black text-center\">${orderDate.getFullYear()}/${orderDate.getMonth()+1}/${orderDate.getDate()}</td>\n            <td class=\"border border-black text-center\">\n                <a class='cursor-pointer' onclick=putPaidStatus('${item.id}',${!item.paid}) >${item.paid ? '已處理' : '未處理' }</a>\n            </td>\n            <td class=\"border border-black text-center\">\n                <input type=\"button\" class=\"bg-dark-red text-white px-3 py-0.75 mx-auto\" value='刪除' onclick=deleteOrder('${item.id}')>\n            </td>\n        </tr>\n        `\n    })\n}\n\nfunction deleteOrder(orderID){\n    if(orderID == undefined){\n        axios(\n            {\n            method: 'delete',\n            url: `${apiAdminUrl}/orders`,\n            headers:{\n                authorization: token,\n            }\n            }\n        ).then((res)=>{\n            orderList = res.data.orders;\n            orderListRender();\n            orderAnalysisChartRender();\n        })\n    }else{\n        axios(\n            {\n            method: 'delete',\n            url: `${apiAdminUrl}/orders/${orderID}`,\n            headers:{\n                authorization: token,\n            }\n            }\n        ).then((res)=>{\n            orderList = res.data.orders;\n            orderListRender();\n            orderAnalysisChartRender();\n        })\n    }\n}\n\nfunction orderAnalysisChartRender(){\n    soldNum = {}\n    soldNumData = []\n    orderList.forEach((item)=>{\n        item.products.forEach((product)=>{\n            soldNum[product.title] =  !soldNum[product.title] ? product.quantity : (soldNum[product.title]+product.quantity)\n        })\n    })\n    Object.keys(soldNum).forEach((item)=>{\n        soldNumData.push([item, soldNum[item]])\n    })\n    soldNumData.sort((a,b)=>{\n        return b[1]-a[1]\n    })\n    if(soldNumData.length > 3){\n        for(let i = 3; i< soldNumData.length; i+=1){\n            if( i == 3 ) soldNumData[i][0] = '其他'\n            soldNumData[3][1] =  soldNumData[3][1] + soldNumData[i][1]\n        }\n        soldNumData = soldNumData.slice(0, 4)\n    }\n    c3.generate({\n        bindto: '#allItemSellRatio',\n        data: {\n          columns: soldNumData,\n          type : 'pie',\n        },\n        size:{\n            height: 404\n        }\n    })\n}\n\nfunction putPaidStatus(orderID, paymentStatus){\n    axios(\n        {\n        method: 'put',\n        url: `${apiAdminUrl}/orders`,\n        headers:{\n            authorization: token,\n        },\n        data:{\n            'data':{\n                'id': orderID,\n                'paid': paymentStatus\n            }\n        }\n        }\n    ).then((res)=>{\n        orderList = res.data.orders;\n        console.log(res)\n        orderListRender();\n    })\n}\n\nfunction init(){\n    if(goodsListNode){\n        getGoodsList();\n        getCartList();\n    }else if(orderListNode){\n        getOrderList();\n    }\n}\n\ninit();"]}